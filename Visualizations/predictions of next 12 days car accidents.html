<!DOCTYPE html>
<head>    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_b216116ab46d57448ded2fa6348d6112 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
            </style>
        
    <script src="https://cdn.jsdelivr.net/npm/iso8601-js-period@0.2.1/iso8601.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/pa7_hm.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/pa7_leaflet_hm.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.control.css"/>
    
            <script>
                var TDHeatmap = L.TimeDimension.Layer.extend({

            initialize: function(data, options) {
                var heatmapCfg = {
                    radius: 15,
                    maxOpacity: 1.,
                    scaleRadius: false,
                    useLocalExtrema: false,
                    latField: 'lat',
                    lngField: 'lng',
                    valueField: 'count',
                    defaultWeight : 1,
                };
                heatmapCfg = $.extend({}, heatmapCfg, options.heatmapOptions || {});
                var layer = new HeatmapOverlay(heatmapCfg);
                L.TimeDimension.Layer.prototype.initialize.call(this, layer, options);
                this._currentLoadedTime = 0;
                this._currentTimeData = {
                    data: []
                    };
                this.data= data;
                this.defaultWeight = heatmapCfg.defaultWeight || 1;
            },
            onAdd: function(map) {
                L.TimeDimension.Layer.prototype.onAdd.call(this, map);
                map.addLayer(this._baseLayer);
                if (this._timeDimension) {
                    this._getDataForTime(this._timeDimension.getCurrentTime());
                }
            },
            _onNewTimeLoading: function(ev) {
                this._getDataForTime(ev.time);
                return;
            },
            isReady: function(time) {
                return (this._currentLoadedTime == time);
            },
            _update: function() {
                this._baseLayer.setData(this._currentTimeData);
                return true;
            },
            _getDataForTime: function(time) {
                    delete this._currentTimeData.data;
                    this._currentTimeData.data = [];
                    var data = this.data[time-1];
                    for (var i = 0; i < data.length; i++) {
                        this._currentTimeData.data.push({
                                lat: data[i][0],
                                lng: data[i][1],
                                count: data[i].length>2 ? data[i][2] : this.defaultWeight
                            });
                        }
                    this._currentLoadedTime = time;
                    if (this._timeDimension && time == this._timeDimension.getCurrentTime() && !this._timeDimension.isLoading()) {
                        this._update();
                    }
                    this.fire('timeload', {
                        time: time
                    });
                }
        });

        L.Control.TimeDimensionCustom = L.Control.TimeDimension.extend({
            initialize: function(index, options) {
                var playerOptions = {
                    buffer: 1,
                    minBufferReady: -1
                    };
                options.playerOptions = $.extend({}, playerOptions, options.playerOptions || {});
                L.Control.TimeDimension.prototype.initialize.call(this, options);
                this.index = index;
                },
            _getDisplayDateFormat: function(date){
                return this.index[date.getTime()-1];
                }
            });
            </script>
                
</head>
<body>    
    
            <div class="folium-map" id="map_b216116ab46d57448ded2fa6348d6112" ></div>
        
</body>
<script>    
    
            var map_b216116ab46d57448ded2fa6348d6112 = L.map(
                "map_b216116ab46d57448ded2fa6348d6112",
                {
                    center: [45.5088888, -73.561668],
                    crs: L.CRS.EPSG3857,
                    zoom: 12,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_158315910c9f82f895f6afa79091ee99 = L.tileLayer(
                "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "Data by \u0026copy; \u003ca href=\"http://openstreetmap.org\"\u003eOpenStreetMap\u003c/a\u003e, under \u003ca href=\"http://www.openstreetmap.org/copyright\"\u003eODbL\u003c/a\u003e.", "detectRetina": false, "maxNativeZoom": 18, "maxZoom": 18, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            ).addTo(map_b216116ab46d57448ded2fa6348d6112);
        
    

            var times = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];

            map_b216116ab46d57448ded2fa6348d6112.timeDimension = L.timeDimension(
                {times : times, currentTime: new Date(1)}
            );

            var heat_map_4a5905086d4b051b463113d27f1fd863Control = new L.Control.TimeDimensionCustom(['0 days', '1 days', '2 days', '3 days', '4 days', '5 days', '6 days', '7 days', '8 days', '9 days', '10 days', '11 days'], {
                autoPlay: false,
                backwardButton: true,
                displayDate: true,
                forwardButton: true,
                limitMinimumRange: 5,
                limitSliders: true,
                loopButton: true,
                maxSpeed: 10,
                minSpeed: 0.1,
                playButton: true,
                playReverseButton: true,
                position: "bottomleft",
                speedSlider: true,
                speedStep: 0.1,
                styleNS: "leaflet-control-timecontrol",
                timeSlider: true,
                timeSliderDrapUpdate: false,
                timeSteps: 1
                })
                .addTo(map_b216116ab46d57448ded2fa6348d6112);

                var heat_map_4a5905086d4b051b463113d27f1fd863 = new TDHeatmap([[[45.503696, -73.574725], [45.513728, -73.560462], [45.517037, -73.560855], [45.530118, -73.554455], [45.490003, -73.637537], [45.482708, -73.626553], [45.462146, -73.830152], [45.572888, -73.634532], [45.56969, -73.600094], [45.538319, -73.601194], [45.545595, -73.585016], [45.526279, -73.598585], [45.535837, -73.569792], [45.607442, -73.620897], [45.600697, -73.610319], [45.54308, -73.57827], [45.660039, -73.561403], [45.587447, -73.531822], [45.587447, -73.531822], [45.654565, -73.522148], [45.484906, -73.82618], [45.489844, -73.571486], [45.46204, -73.604977], [45.468665, -73.582151], [45.452221, -73.595868]], [[45.495068, -73.569129], [45.536418, -73.541504], [45.54243, -73.539159], [45.553678, -73.547417], [45.557152, -73.637406], [45.565994, -73.648472], [45.523839, -73.580916], [45.525662, -73.574344], [45.5438, -73.577534], [45.605528, -73.543213], [45.588192, -73.563681], [45.574704, -73.543337], [45.480439, -73.803158], [45.495725, -73.582482], [45.417817, -73.625097], [45.451837, -73.592518], [45.482464, -73.577366]], [[45.505738, -73.558259], [45.512175, -73.561792], [45.517912, -73.556657], [45.561778, -73.664828], [45.536362, -73.610208], [45.523429, -73.581746], [45.508128, -73.694414], [45.507544, -73.689788], [45.599653, -73.606516], [45.574876, -73.546227], [45.475309, -73.607677], [45.487325, -73.557326]], [[45.511229, -73.559692], [45.506914, -73.560856], [45.542075, -73.643007], [45.53859, -73.600843], [45.53253, -73.571638], [45.516879, -73.573547], [45.520741, -73.575872], [45.594268, -73.62596], [45.498129, -73.712791], [45.518893, -73.696308], [45.568983, -73.583826], [45.632942, -73.610961], [45.570423, -73.550939], [45.649259, -73.510417], [45.649416, -73.510024], [45.469878, -73.841645], [45.487042, -73.817004], [45.471494, -73.833062], [45.487045, -73.597027]], [[45.509871, -73.563823], [45.52284, -73.54629], [45.551252, -73.541937], [45.479829, -73.886743], [45.575734, -73.631421], [45.578858, -73.5925], [45.54518, -73.583216], [45.554669, -73.585008], [45.658936, -73.522874], [45.427468, -73.855761], [45.531059, -73.726985]], [[45.572102, -73.650386], [45.590715, -73.525676], [45.596468, -73.534957], [45.589893, -73.538832], [45.455638, -73.631653], [45.42948, -73.593244], [45.42948, -73.593244]], [[45.501845, -73.576576], [45.464799, -73.719795], [45.44383, -73.74084], [45.47714, -73.779706], [45.459943, -73.834501], [45.51691, -73.567462], [45.503196, -73.56041], [45.513567, -73.552856], [45.528839, -73.544607], [45.547311, -73.555346], [45.559632, -73.633669], [45.547945, -73.607051], [45.550625, -73.597054], [45.534693, -73.614624], [45.525151, -73.595247], [45.533938, -73.586341], [45.487038, -73.866188], [45.58318, -73.592242], [45.5969, -73.609201], [45.578858, -73.5925], [45.595123, -73.590575], [45.604733, -73.512468], [45.59364, -73.561295], [45.527628, -73.712921], [45.450785, -73.595321]], [[45.491746, -73.566873], [45.443794, -73.740866], [45.505274, -73.56478], [45.449691, -73.832327], [45.536977, -73.555799], [45.525913, -73.559409], [45.558763, -73.528974], [45.512258, -73.626831], [45.49936, -73.619772], [45.544438, -73.65101], [45.548433, -73.63569], [45.550286, -73.651223], [45.562557, -73.606102], [45.55323, -73.619015], [45.529995, -73.645704], [45.53453, -73.597705], [45.532408, -73.58476], [45.60419, -73.636494], [45.498129, -73.712791], [45.493213, -73.700702], [45.589298, -73.595265], [45.50349, -73.694872], [45.589298, -73.595265], [45.5421, -73.575925], [45.563787, -73.57868], [45.620768, -73.599035], [45.616865, -73.593841], [45.65958, -73.549355], [45.587672, -73.557981], [45.648501, -73.528711], [45.44527, -73.65032], [45.532908, -73.661583], [45.492635, -73.582807], [45.417663, -73.644842], [45.436492, -73.625507], [45.428471, -73.622401], [45.45686, -73.564087]], [[45.502266, -73.564165], [45.50101, -73.577472], [45.445776, -73.816612], [45.488821, -73.771832], [45.526222, -73.564462], [45.511447, -73.63722], [45.519657, -73.631895], [45.495768, -73.651414], [45.489228, -73.635809], [45.550828, -73.655951], [45.580951, -73.617902], [45.544197, -73.63008], [45.540862, -73.628405], [45.544318, -73.622889], [45.533936, -73.598244], [45.513809, -73.576145], [45.588659, -73.635093], [45.601104, -73.616873], [45.59514, -73.634395], [45.520423, -73.720739], [45.527491, -73.671743], [45.589298, -73.595265], [45.578655, -73.570769], [45.560798, -73.573736], [45.562539, -73.579738], [45.625308, -73.581688], [45.602623, -73.567041], [45.589261, -73.563043], [45.641574, -73.50046], [45.463725, -73.62897], [45.429561, -73.632625], [45.471481, -73.592941], [45.487569, -73.566767], [45.4671, -73.543615]], [[45.496245, -73.580759], [45.495829, -73.577045], [45.502266, -73.564165], [45.466318, -73.821902], [45.448195, -73.812498], [45.481752, -73.778607], [45.499854, -73.556233], [45.513003, -73.55329], [45.517069, -73.564764], [45.502324, -73.558581], [45.506199, -73.555622], [45.51661, -73.559903], [45.540972, -73.5575], [45.553242, -73.553357], [45.5185, -73.619229], [45.512255, -73.622207], [45.490003, -73.637537], [45.550205, -73.663853], [45.580173, -73.622097], [45.573581, -73.637267], [45.53958, -73.616309], [45.529995, -73.645704], [45.525735, -73.624989], [45.519621, -73.595808], [45.523004, -73.575446], [45.53326, -73.564241], [45.595423, -73.642771], [45.581487, -73.640383], [45.610321, -73.608788], [45.604045, -73.617249], [45.49977, -73.748208], [45.496476, -73.705226], [45.58024, -73.590469], [45.582518, -73.589608], [45.591469, -73.572178], [45.552437, -73.572321], [45.633913, -73.586408], [45.631975, -73.588937], [45.575816, -73.54731], [45.634353, -73.493054], [45.414717, -73.916286], [45.532005, -73.701894], [45.538292, -73.698864], [45.485973, -73.598212], [45.431888, -73.623782], [45.44707, -73.603393], [45.491903, -73.851933]], [[45.50555, -73.572957], [45.482198, -73.862155], [45.444876, -73.816008], [45.462146, -73.830152], [45.466318, -73.821902], [45.462146, -73.830152], [45.508569, -73.544259], [45.530058, -73.547517], [45.530058, -73.547517], [45.551252, -73.541937], [45.501247, -73.81441], [45.496632, -73.663462], [45.493272, -73.654317], [45.502977, -73.636797], [45.563335, -73.608243], [45.574533, -73.634788], [45.54205, -73.634965], [45.525028, -73.626531], [45.536842, -73.577888], [45.533988, -73.583281], [45.523374, -73.583424], [45.530856, -73.576528], [45.595423, -73.642771], [45.607503, -73.617323], [45.579639, -73.643648], [45.603653, -73.618025], [45.512258, -73.691681], [45.492184, -73.758573], [45.515413, -73.684417], [45.513548, -73.710658], [45.596547, -73.608732], [45.579073, -73.600498], [45.570016, -73.588331], [45.578214, -73.582574], [45.579359, -73.586374], [45.562539, -73.579738], [45.430261, -73.852761], [45.441023, -73.678002], [45.437865, -73.686386], [45.478117, -73.630786], [45.477043, -73.663614], [45.537856, -73.688924], [45.530407, -73.703926], [45.469341, -73.618195], [45.473012, -73.608163], [45.454445, -73.639062], [45.473701, -73.629039], [45.487042, -73.817004], [45.482926, -73.598935], [45.488156, -73.583088], [45.426602, -73.611938], [45.481275, -73.577906], [45.486194, -73.570062], [45.453801, -73.595817], [45.462651, -73.583199], [45.456532, -73.563902]], [[45.504734, -73.568319], [45.499187, -73.576496], [45.506444, -73.570544], [45.499587, -73.55292], [45.444835, -73.688674], [45.519956, -73.654639], [45.517139, -73.642664], [45.477912, -73.852188], [45.490603, -73.631531], [45.504735, -73.621949], [45.568706, -73.645349], [45.539772, -73.668165], [45.568182, -73.653381], [45.54624, -73.642164], [45.539512, -73.623728], [45.528702, -73.616964], [45.529558, -73.629404], [45.530765, -73.591917], [45.534701, -73.569577], [45.520989, -73.58395], [45.605812, -73.622421], [45.579639, -73.643648], [45.462146, -73.830152], [45.496476, -73.705226], [45.521011, -73.673833], [45.487715, -73.716033], [45.490637, -73.755902], [45.5067, -73.6858], [45.507719, -73.726989], [45.592411, -73.611435], [45.578813, -73.582248], [45.595064, -73.572421], [45.603491, -73.600573], [45.562539, -73.579738], [45.637086, -73.563798], [45.644012, -73.573122], [45.576766, -73.515456], [45.582705, -73.543234], [45.581739, -73.53906], [45.576294, -73.547152], [45.665383, -73.494228], [45.466169, -73.637647], [45.467372, -73.632452], [45.482708, -73.795371], [45.485237, -73.803579], [45.482586, -73.59931], [45.480269, -73.601999], [45.426215, -73.625878], [45.431834, -73.646718], [45.474468, -73.581247], [45.48679, -73.551267], [45.473193, -73.588347]]],
                {heatmapOptions: {
                        radius: 15,
                        minOpacity: 0,
                        maxOpacity: 0.6,
                        scaleRadius: false,
                        useLocalExtrema: false,
                        defaultWeight: 1,
                        
                    }
                })
                .addTo(map_b216116ab46d57448ded2fa6348d6112);

        
</script>